syntax = "proto3";

package common.system.v1;

import "google/protobuf/empty.proto";
import "grpc/health/v1/health.proto";

option go_package = "github.com/amirhossein-shakeri/zhinux-contracts/gen/go/common/system/v1;systemv1";

message PingMessage {
  int64 sequence = 1;
}

service SystemService {
  // Get system version and build info
  rpc GetVersion(google.protobuf.Empty)
  returns (VersionResponse);

  // Ping
  rpc Ping(PingMessage)  returns (PingMessage);

  // Persistent ping stream connection
  rpc PingStream(stream PingMessage)
  returns (stream PingMessage);
}

message VersionResponse {
  string service_name = 1;
  string git_commit   = 2;
  string build_time   = 3;
  string version      = 4;
}
